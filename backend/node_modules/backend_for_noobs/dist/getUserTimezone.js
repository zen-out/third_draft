const wyf = require("when_you_free")
const { knex } = require('./knex')
const ef = require('effective_knex')


/**
 * @example
 * await getUserTimezone(knex, user_id)
 * @author github.com/zen-out
 */
async function getUserTimezone(knex, user_id) {
    let timezone = await knex('user').select("timezone").where({ id: user_id })
    timezone = await ef.getObject(timezone)
    let formatted = await wyf.getCurrentTime(timezone["timezone"])
    return formatted;
}

module.exports = { getUserTimezone }